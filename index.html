<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gold Clover - Activ√° tu Beneficio</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'Arial',sans-serif; overflow:hidden; position:relative; background: linear-gradient(45deg, #0d0415, #1a0b2e, #2d1b4e, #3f2860); background-size: 400% 400%; animation: gradientShift 8s ease infinite; height:100vh; display:flex; justify-content:center; align-items:center; text-align:center; color:#fff; }

@keyframes gradientShift { 0%,100%{background-position:0% 50%;} 50%{background-position:100% 50%;} }

/* PARTICULAS */
.particles { position:fixed; top:0; left:0; width:100%; height:100vh; pointer-events:none; overflow:hidden; z-index:1; }
.particle { position:absolute; width:3px; height:3px; background:#ffd700; border-radius:50%; opacity:0; }

/* CONTENEDOR PRINCIPAL */
.container { position:relative; z-index:2; padding:20px; max-width:400px; width:90%; display:flex; flex-direction:column; justify-content:center; align-items:center; }

/* LOGO */
.logo { width:150px; height:auto; margin-bottom:15px; }

/* DESCRIPCION */
.description { font-size:1.4rem; font-weight:700; line-height:1.3; text-shadow:0 0 10px rgba(255,215,0,0.5); margin-bottom:25px; }

/* BOTON */
.cta-button { background:#25D366; color:#fff; border:none; padding:18px 35px; font-size:1.2rem; font-weight:900; border-radius:50px; cursor:pointer; box-shadow:0 8px 20px rgba(37,211,102,0.4); transition:0.3s; text-transform:uppercase; animation:pulse 2s infinite; display:flex; align-items:center; justify-content:center; position:relative; }
.cta-button:hover { transform:scale(1.05); box-shadow:0 12px 30px rgba(37,211,102,0.6); }
.cta-button:active { transform:scale(0.95); }
@keyframes pulse { 0%,100%{transform:scale(1);} 50%{transform:scale(1.05);} }

/* EMOJI ANIMADO */
.emoji { font-size:1.8rem; margin-left:10px; animation:jump 1s infinite; }
@keyframes jump { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-5px);} }

/* CONTADOR */
.countdown { font-size:1rem; color:#ffed4e; font-weight:900; margin-top:10px; text-shadow:0 0 8px rgba(255,235,0,0.8); animation:flash 1.5s infinite; }
@keyframes flash { 0%,100%{opacity:1;} 50%{opacity:0.6;} }

/* NOTIFICACIONES SCROLL */
.notification-container { width:100%; max-width:400px; height:40px; overflow:hidden; position:relative; margin:15px auto; border-radius:10px; }
.notification-scroll { position:absolute; white-space:nowrap; display:flex; animation:scrollLeft 12s linear infinite; font-size:0.9rem; color:#fff; }
.notification-scroll div { margin-right:40px; display:inline-flex; align-items:center; }
.notification-scroll span { color:#ffd700; font-weight:700; }

@keyframes scrollLeft { 0%{transform:translateX(100%);} 100%{transform:translateX(-100%);} }

/* RESPONSIVO */
@media(max-width:480px){ .description{font-size:1.1rem;} .cta-button{padding:14px 25px; font-size:1rem;} .countdown{font-size:0.9rem;} .notification-scroll{font-size:0.75rem;} }
</style>
</head>
<body>

<div class="particles" id="particles"></div>

<div class="container">
    <!-- LOGO -->
    <img src="https://goldcloverlanding.netlify.app/logo.png" alt="Gold Clover" class="logo">

    <p class="description">¬°Tu beneficio exclusivo te espera!<br>Solo un paso m√°s para activarlo.</p>
    
    <!-- BOTON CON EMOJI -->
    <button class="cta-button" onclick="handleButtonClick()">
        Activar mi beneficio
        <span class="emoji">üçÄ</span>
    </button>

    <!-- CONTADOR -->
    <div class="countdown" id="countdown">‚è∞ Solo disponible por 00:05:00</div>

    <!-- NOTIFICACIONES SCROLL -->
    <div class="notification-container">
        <div class="notification-scroll" id="notification-scroll"></div>
    </div>
</div>

<script>
// PARTICULAS
class ParticleSystem {
    constructor(){ this.particles=[]; this.container=document.getElementById('particles'); this.lastTime=0; this.isRunning=false; }
    createParticle(){ return {x:Math.random()*window.innerWidth, y:window.innerHeight+10, speed:Math.random()*2+1, opacity:Math.random()*0.6+0.2, element:null}; }
    init(){ for(let i=0;i<15;i++){ let p=this.createParticle(); let e=document.createElement('div'); e.className='particle'; e.style.left=p.x+'px'; e.style.top=p.y+'px'; e.style.opacity=p.opacity; this.container.appendChild(e); p.element=e; this.particles.push(p);} this.start();}
    update(currentTime){ if(currentTime-this.lastTime>50){ this.particles.forEach(p=>{ p.y-=p.speed; if(p.y<-10){ p.y=window.innerHeight+10; p.x=Math.random()*window.innerWidth; p.opacity=Math.random()*0.6+0.2; } p.element.style.transform=`translate3d(${p.x}px,${p.y}px,0)`; p.element.style.opacity=p.opacity; }); this.lastTime=currentTime;} if(this.isRunning) requestAnimationFrame((t)=>this.update(t));}
    start(){ this.isRunning=true; requestAnimationFrame((t)=>this.update(t)); }
    stop(){ this.isRunning=false; }
}
let particleSystem = new ParticleSystem();
window.addEventListener('load',()=>{ particleSystem.init(); });
document.addEventListener('visibilitychange',()=>{ if(particleSystem){ document.hidden?particleSystem.stop():particleSystem.start(); } });

// WhatsApp + CAPI
function handleButtonClick(){
    const data = {
        email: '', 
        phone: '5491125379784',
        eventName: 'Lead',
        pageUrl: window.location.href
    };

    fetch('/.netlify/functions/capi', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
    }).then(res => res.json()).then(console.log);

    // Abrir WhatsApp
    const phoneNumber="5491125379784";
    const message="¬°Hola! Quiero activar mi beneficio üçÄ";
    window.open(`https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`, '_blank');
}

// CONTADOR EN TIEMPO REAL
let countdownTime = 5*60; 
function updateCountdown(){
    let minutes = Math.floor(countdownTime/60).toString().padStart(2,'0');
    let seconds = (countdownTime%60).toString().padStart(2,'0');
    document.getElementById('countdown').textContent = `‚è∞ Solo disponible por 00:${minutes}:${seconds}`;
    if(countdownTime>0){ countdownTime--; setTimeout(updateCountdown,1000); }
}
updateCountdown();

// NOTIFICACIONES SCROLL
const notifications = [
    {name:"Mar√≠a", action:"activ√≥ su beneficio"},
    {name:"Carlos", action:"particip√≥ y recibi√≥ su ventaja"},
    {name:"Ana", action:"desbloque√≥ su beneficio exclusivo"},
    {name:"Diego", action:"activ√≥ su ventaja con √©xito"},
    {name:"Laura", action:"particip√≥ y obtuvo su recompensa"}
];
const notifContainer = document.getElementById('notification-scroll');
notifications.forEach(n=>{ 
    const div = document.createElement('div'); 
    div.innerHTML=`üéâ ${n.name} <span>${n.action}</span>`; 
    notifContainer.appendChild(div); 
});

// Pixel de frontend
!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod? n.callMethod.apply(n,arguments):n.queue.push(arguments)}; if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0'; n.queue=[]; t=b.createElement(e);t.async=!0; t.src=v; s=b.getElementsByTagName(e)[0]; s.parentNode.insertBefore(t,s)}(window, document,'script','https://connect.facebook.net/en_US/fbevents.js');
fbq('init','24403633855955337'); 
fbq('track','PageView');

</script>

</body>
</html>
